# <img alt="ORT Server" src="assets/logo.svg" width="10%"> Eclipse Apoapsis - ORT Server

The [Eclipse Apoapsis](https://projects.eclipse.org/projects/technology.apoapsis) project's **ORT Server** is a
standalone application to deploy the [OSS Review Toolkit](https://github.com/oss-review-toolkit/ort) as a service in the
cloud.

> [!NOTE]
> This project is currently in the [incubation phase](https://www.eclipse.org/projects/handbook/#incubation) at the
> Eclipse Foundation and working towards making the first release.
> Once released, the project will use semantic versioning, until then breaking changes can occur at any time.
> 
> <img alt="Eclipse Incubation" src="https://projects.eclipse.org/modules/custom/eclipsefdn/eclipsefdn_projects/images/project_state/incubating.png" width="10%">

## Community

To communicate with the developers, you can:
* Join the [Matrix chat](https://matrix.to/#/#apoapsis:matrix.eclipse.org).
* Start a GitHub [discussion](https://github.com/eclipse-apoapsis/ort-server/discussions).
* Join the [mailing list](https://accounts.eclipse.org/mailing-list/apoapsis-dev).

Please report any issues to the [issue tracker](https://github.com/eclipse-apoapsis/ort-server/issues).

Contributions are welcome, please see the [contributing guide](CONTRIBUTING.md) for more information.

## Running ORT Server

The easiest way to run the ORT Server for testing is to use [Docker Compose](https://docs.docker.com/compose/).
For a proper deployment to Kubernetes, the project will later provide a Helm chart.

### Docker Compose

> [!CAUTION]
> Do not use the Docker Compose setup in production as it uses multiple insecure defaults, like providing Keycloak
> without TLS.

To start the ORT Server with the required third-party services run:

```shell
docker compose up
```

Once the services are up and running, you can access the ORT Server UI at [http://localhost:8082](http://localhost:8082).

See the [documentation](https://eclipse-apoapsis.github.io/ort-server/docs/getting-started/docker-compose) for detailed instructions, for example, to run Docker Compose with local images.

## Publish Docker Images

To publish the Docker images to a registry, first build the worker base images as described in the
[documentation](http://eclipse-apoapsis.github.io/ort-server/docs/getting-started/docker-compose#running-with-local-images).
Then you can use the `jib` task to publish the images by setting the correct prefix for the registry.
You can also configure the tag which defaults to `latest`.

```shell
# Publish all Docker images.
./gradlew -PdockerImagePrefix=my.registry/ jib

# Publish one specific image.
./gradlew -PdockerImagePrefix=my.registry/ :core:jib

# Publish using a custom tag.
./gradlew -PdockerImagePrefix=my.registry/ -PdockerImageTag=custom jib
```

## Generate OpenAPI specification

The OpenAPI specification can be generated by running this Gradle task:

```shell
./gradlew :core:generateOpenApiSpec
```

The task writes the specification to `ui/build/openapi.json`.

## License

See the [NOTICE](./NOTICE) file in the root of this project for the copyright details.

See the [LICENSE](./LICENSE) file in the root of this project for license details.
